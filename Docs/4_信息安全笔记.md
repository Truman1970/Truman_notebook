
## 计算机硬件基础

### 中央处理器-CPU
CPU基础功能：指令控制、操作控制、时间控制、数据加工。
CPU的组成：运算器、控制器、cache。

### 控制器-CU
- 功能：指挥计算机各个部件协调一致的自动运行。
- 组成：程序计数器-PC、指令寄存器-IR、指令译码器、时序产生器、操作控制器。

### 运算器-ALU
- 功能：在控制器的指挥下，进行算数运算和逻辑运算。
- 组成：算数逻辑单元-ALU、通用寄存器、数据缓冲寄存器-DR、状态条件寄存器-PSW。

### CPU中主要寄存器
- 数据缓冲寄存器—DR：暂时存放ALU的运算结果、或由数据存储器读出的一个数据字，或来自外部接口的一个数据字。
- 指令寄存器-IR：保存当前正在执行的一条指令。
- 程序计数器-PC：存放下一条指令的地址，确定下一条指令。
- 数据地址寄存器—AR：保存当前CPU所访问的cache存储器中单元的地址。
- 通用寄存器-R0-R3：当ALU执行算数运算或者逻辑运算时，为ALU提供一个工作区。
- 状态寄存器-PSW：保存由算数指令和逻辑指令运算或测试结果建立的各种条件代码。进位和借位保存在状态寄存器里，根据值判断是否由进位和借位。

> 构成运算器的部件中，最核心的是**算术和逻辑运算单元**


### 指令的寻址方式

指令格式：操作数+地址码

- 隐含寻址，指令中隐含操作数地址，一般来说，操作数存储在专用寄存器中。
- 立即寻址，操作数存储在指令中，不需要访问存储器，速度最快。
- 直接寻址，操作数地址存储在指令中，操作数存储在存储器中。
- 间接寻址，相比于直接寻址，两次寻址才取到操作数。
- 寄存器寻址，寄存器地址存放在指令中，操作数存储在寄存器中。
- 寄存器间接寻址，相比于寄存器寻址，两次寻址才取到操作数，操作数存储在存储器中。
- 偏移寻址，寄存器直接寻址 + 寄存器间接寻址。

> 获取操作数速度最快的是**立即寻址**。
> 操作数地址在某寄存器的寻址方式为**寄存器间接寻址**。

### 存储器

- 一个存储器中所有存储单元的总数称为它的容量。
- 静态存储器很快，断电信息丢失。
- 存储器分级：速度由快到慢，价格由高到低：寄存器、cache、主存（RAM）、外存。


### 总线和接口

CPU和内存交互**按照传输信息**分类：数据总线、地址总线、控制总线。
- 数据总线
  - 用于传输数据信息。
  - 数据信息在数据总线上双向传输。
  - 数据总线的根数决定了通过该总线一次可以传送的信息量。
- 地址总线
  - 用来传输地址信息，地址信息在地址总线上单向传输。
  - 地址总线的根数决定了总线可以直接寻址的内存地址空间大小。
  - n根地址总线可以寻址的地址空间是2的n次方。
- 控制总线
  - 用于在主控设备和被控设备之间传输控制信号。

CPU和内存交互**按照所处位置**分类
- 片内总线
  - 发生在CPU内部。
  - CPU内部多个功能部件相连的数据传输通路。
  - CPU内部运算器、控制器以及寄存器之间通过片内总线传输数据。
- 系统总线
  - 发生在主机内部。
  - 又称为内总线，是CPU内存和各种接口电路之间的信息通路。
- 通信总线
  - 发生在主机外面。
  - 又称为外总线，是计算机和计算机之间或计算机和其他通信设备之间的信息传输通路，如电缆、网线、光纤等。

**接口**：临时存储信息的部件。
- 并行接口
  - 主要用于连接打印机或者扫描仪。
  - 并行传输受到线路长度限制，只适合10M以内的数据。
  - 并行接口适合高速、短距离通信。
- 串行接口
  - 用来连接Modem或其他串行通信设备。
  - 串行速度较慢，通信距离远，抗干扰强，连线成本低。
- 硬盘接口
  - IDE采用并行方式进行数据通信，接口速度快，价格低，兼容性强，每个IDE接口可以连接两个IDE设备，分别称为主设备和从设备。
  - SATA接口采用串行数据传输方式，可靠性高，抗干扰性强，支持热拔插，每个接口只能连接一个SATA设备，比较主流。
  - SCSI接口数据传输率高，CPU占用率低，除了连接硬盘外，还可以连接光驱、扫描仪、打印机设备等，较为常用。

> 断电后，存储在**RAM**的数据会丢失。  
> 解决主存和CUP之间速度不匹配的部件是**Cache**。  
> 总线宽度分为地址总线宽度和数据总线宽度，其中地址总线宽度决定了CPU能够使用多大容量的**主存储器**。  
> 若地址总线的宽度为32位，则最多允许**2^32b**访问的物理空间(如果没有标准答案，就选最接近的，如4GB，商家拿B代替b)。  

若内存地址区间为4000H~43FFH，每个存储单元可存储16位二进制数，该内存区域用4片存储器构成，则该内存所用的存储器芯片的容量是多少？
```shell
43FFH - 4000H + 1H = 4400H - 4000H = 400H = 2^10D
(2^10 * 2) / 4 = 2^9B
```

某计算机存储空间按字节编址，若某区域的地址空间为4A000H~4DFFFH，则该段内存区域的容量是多少？
```shell
4DFFFH - 4A000H + 1H = 4E000H -4A000H = 4000H = 2^14D
2^14 * 1 = 2^14B
```

思考：8G的内存，装32位的操作系统好？还是装64位的操作系统好？  
解：2^32b = 2^9MB ≈ 4GB，寻址空间只能是4GB。  

### 外部设备

### 冯诺依曼体系

### 计算机常用性能指标




### 对称密钥密码模型
密码的安全需求
- confidentiality 保密性
- integrity 完整性
- availability 可用性

古典密码学要解决的问题：通信保密

三个古典密码系统
- 羊皮传书，两个一样的棍子
- 藏头诗，我爱秋香，又叫隐写术
- 凯撒密码，已知最早的替换密码

相关概念
- P: plaintext 明文
- C: ciphertext 密文
- K: key 密钥
- E: encipher(encrypt) 加密(加密算法)
- D: decipher(decrypt) 解密(解密算法)

这五要素构成一个密码系统，被称为对称密钥密码模型
```
E: P + K >>> C 
D: C + K >>> P 
```

![](../img/4-1.png)

